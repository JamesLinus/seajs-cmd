<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>加载本地模块（相对于 sea.js 所在目录）</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="loading">正在加载</div>
<script src="js/sea-v3.0.0.js" id="seajsnode" ></script>
<script class="show">
// js/sea-v3.0.0.js
var seajsPath = document.getElementById('seajsnode').getAttribute('src')
// js/
var seajsDirname = seajsPath.replace(/[^\/]+$/, '')

seajs.config({
    // 配置 base 路径（必须）
    base: 'http://cmd.nimojs.com/cmd/',
    map: [
        [new RegExp('http:\/\/cmd\.nimojs\.com\/cmd\/local\/'), seajsDirname]
    ]
})

document.getElementById('loading').innerHTML += seajs.resolve('local/log/0.0.1/log')

seajs.use(['local/log/0.0.1/log'] ,function (log) {
    if (log) {
        document.getElementById('loading').innerHTML = '加载成功'
        log('demo')
    }
    else {
        document.getElementById('loading').innerHTML =  seajs.resolve('local/log/0.0.1/log') + '加载失败，请检查网络状况。或<a href="https://github.com/nimojs/seajs-cmd/issues/new">告诉我们</a>'
    }
})
</script>

<a href="http://github.com/nimojs/seajs-cmd/" id="github"> <img alt="Fork me on GitHub" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" /> </a>
</body>
</html>